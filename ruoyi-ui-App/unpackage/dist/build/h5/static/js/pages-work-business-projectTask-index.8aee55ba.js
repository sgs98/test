(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-work-business-projectTask-index"],{2909:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var i=s(n("6005")),a=s(n("db90")),o=s(n("06c5")),r=s(n("3427"));function s(t){return t&&t.__esModule?t:{default:t}}function c(t){return(0,i.default)(t)||(0,a.default)(t)||(0,o.default)(t)||(0,r.default)()}},3022:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.list-item[data-v-4e03c38a]{padding:%?20?% 0;border-bottom:.5px solid #ccc}',""]),t.exports=e},"33e8":function(t,e,n){"use strict";var i=n("e382"),a=n.n(i);a.a},3427:function(t,e,n){"use strict";function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},"440b":function(t,e,n){"use strict";n.r(e);var i=n("7719"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"459c":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.getTaskFinishByPage=o,e.getTaskWaitByPage=r,e.listProjectTask=s,e.getProjectTask=c,e.addProjectTask=u,e.updateTaskAssginee=l,e.updateByAllocate=f,e.updateProjectTask=d,e.delProjectTask=p;var a=i(n("a0b5"));function o(t){return(0,a.default)({url:"/business/projectTask/getTaskFinishByPage",method:"get",params:t})}function r(t){return(0,a.default)({url:"/business/projectTask/getTaskWaitByPage",method:"get",params:t})}function s(t){return(0,a.default)({url:"/business/projectTask/list",method:"get",params:t})}function c(t){return(0,a.default)({url:"/business/projectTask/"+t,method:"get"})}function u(t){return(0,a.default)({url:"/business/projectTask",method:"post",data:t})}function l(t,e){return(0,a.default)({url:"/business/projectTask/updateTaskAssginee/"+e,method:"post",data:t})}function f(t){return(0,a.default)({url:"/business/projectTask/updateByAllocate/"+t.id,method:"put",data:t})}function d(t){return(0,a.default)({url:"/business/projectTask",method:"put",data:t})}function p(t){return(0,a.default)({url:"/business/projectTask/"+t,method:"delete"})}},6005:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=a(n("6b75"));function a(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t))return(0,i.default)(t)}},"6f0b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("459c"),a={data:function(){return{loading:!1,tabs:["待办","已办"],current:0,projectRegionOptions:[],total:0,params:{pageNum:0,pageSize:6,projectName:void 0,projectNo:void 0,applyPerson:void 0},list:[],pattern:{color:"#7A7E83",backgroundColor:"#fff",selectedColor:"#007AFF",buttonColor:"#007AFF",iconColor:"#fff"},alertType:"",alertContent:"",msgType:"",messageText:""}},created:function(){this.getList()},onShow:function(){this.getList()},methods:{onClickItem:function(t){this.current!==t.currentIndex&&(this.current=t.currentIndex,this.params.pageNum=0,this.getList())},search:function(){this.params.pageNum=0,this.getList()},pageChange:function(t){this.params.pageNum=t.current,this.getList()},typeChange:function(){this.getList()},loadData:function(){this.params.pageNum+=1,this.getList()},clear:function(){this.params.pageNum=0,this.params.projectName="",this.getList()},getList:function(){var t=this;t.loading=!0,0==this.current?(0,i.getTaskWaitByPage)(this.params).then((function(e){t.list=e.rows,t.total=e.total,t.loading=!1})):(0,i.getTaskFinishByPage)(this.params).then((function(e){t.list=e.rows,t.total=e.total,t.loading=!1}))},fabClick:function(){uni.navigateTo({url:"/pages/work/business/project/edit?flag=1"})},handleUpdate:function(t){uni.navigateTo({url:"/pages/work/business/project/edit?id="+t})},handleView:function(t){uni.navigateTo({url:"/pages/work/business/projectTask/history?id="+t})},handleDelete:function(t){this.msgType="error",this.messageText="请联系管理员进行删除！",this.$refs.message.open()},dialogConfirm:function(){var t=this;t.tempId&&delProject(t.tempId).then((function(){t.getList()}))},dialogClose:function(){this.tempId=""}}};e.default=a},"71d7":function(t,e,n){"use strict";n.r(e);var i=n("d935"),a=n("b274");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("33e8");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"4e03c38a",null,!1,i["a"],r);e["default"]=c.exports},7719:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i="other",a={name:"UniFab",emits:["fabClick","trigger"],props:{pattern:{type:Object,default:function(){return{}}},horizontal:{type:String,default:"left"},vertical:{type:String,default:"bottom"},direction:{type:String,default:"horizontal"},content:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1},popMenu:{type:Boolean,default:!0}},data:function(){return{fabShow:!1,isShow:!1,isAndroidNvue:"android"===i,styles:{color:"#3c3e49",selectedColor:"#007AFF",backgroundColor:"#fff",buttonColor:"#007AFF",iconColor:"#fff"}}},computed:{contentWidth:function(t){return 55*(this.content.length+1)+15+"px"},contentWidthMin:function(){return"55px"},boxWidth:function(){return this.getPosition(3,"horizontal")},boxHeight:function(){return this.getPosition(3,"vertical")},leftBottom:function(){return this.getPosition(0,"left","bottom")},rightBottom:function(){return this.getPosition(0,"right","bottom")},leftTop:function(){return this.getPosition(0,"left","top")},rightTop:function(){return this.getPosition(0,"right","top")},flexDirectionStart:function(){return this.getPosition(1,"vertical","top")},flexDirectionEnd:function(){return this.getPosition(1,"vertical","bottom")},horizontalLeft:function(){return this.getPosition(2,"horizontal","left")},horizontalRight:function(){return this.getPosition(2,"horizontal","right")}},watch:{pattern:{handler:function(t,e){this.styles=Object.assign({},this.styles,t)},deep:!0}},created:function(){this.isShow=this.show,0===this.top&&(this.fabShow=!0),this.styles=Object.assign({},this.styles,this.pattern)},methods:{_onClick:function(){this.$emit("fabClick"),this.popMenu&&(this.isShow=!this.isShow)},open:function(){this.isShow=!0},close:function(){this.isShow=!1},_onItemClick:function(t,e){this.$emit("trigger",{index:t,item:e})},getPosition:function(t,e,n){return 0===t?this.horizontal===e&&this.vertical===n:1===t?this.direction===e&&this.vertical===n:2===t?this.direction===e&&this.horizontal===n:this.isShow&&this.direction===e?this.contentWidth:this.contentWidthMin}}};e.default=a},8375:function(t,e,n){"use strict";n.r(e);var i=n("f3b7"),a=n("440b");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("ea89");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"393ea88f",null,!1,i["a"],r);e["default"]=c.exports},b22f:function(t,e,n){var i=n("d9670");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("e1504fd0",i,!0,{sourceMap:!1,shadowMode:!1})},b274:function(t,e,n){"use strict";n.r(e);var i=n("6f0b"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},d935:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uniSearchBar:n("685f").default,uniSegmentedControl:n("aad3").default,uniCard:n("e345").default,uniRow:n("65f9").default,uniTag:n("543c").default,uniPagination:n("5561").default,uniFab:n("8375").default,uniPopup:n("3b661").default,uniPopupDialog:n("1946").default,uniPopupMessage:n("8bc2").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"work-container"},[n("uni-search-bar",{attrs:{placeholder:"请输入搜索内容",radius:"100"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)},clear:function(e){arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}},model:{value:t.params.projectName,callback:function(e){t.$set(t.params,"projectName",e)},expression:"params.projectName"}}),n("v-uni-view",{staticClass:"uni-padding-wrap uni-common-mt"},[n("uni-segmented-control",{attrs:{current:t.current,values:t.tabs,"style-type":"button","active-color":"#007aff"},on:{clickItem:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickItem.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"content"},[t._l(t.list,(function(e,i){return n("v-uni-view",{key:i},[n("uni-card",{attrs:{title:""+e.projectNo+e.taskNo,extra:e.nodeName,margin:"10rpx",padding:"10rpx",spacing:"10rpx","is-full":!0}},[n("uni-row",{staticClass:"font-9"},[t._v("任务编号："+t._s(e.projectNo)+t._s(e.taskNo))]),n("uni-row",{staticClass:"font-9"},[t._v("项目名称："+t._s(e.projectName)+"-"+t._s(e.taskType))]),n("uni-row",{staticClass:"font-9"},[t._v("任务节点："+t._s(e.nodeName))]),n("uni-row",{staticClass:"font-9"},[t._v("流程类别："+t._s(e.processDefinitionName))]),n("uni-row",{staticClass:"font-9"},[t._v("流程发起人："+t._s(e.applyPerson))]),n("uni-row",{staticClass:"font-9"},[t.checkPermi(["business:project:list"])?n("uni-tag",{attrs:{text:"查看进度",type:"success"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleView(e.processInstanceId)}}}):t._e()],1)],1)],1)})),n("uni-pagination",{attrs:{total:t.total,current:t.params.pageNum,pageSize:t.params.pageSize,showIcon:!0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.pageChange.apply(void 0,arguments)}}}),n("uni-fab",{ref:"fab",attrs:{pattern:t.pattern,horizontal:"left",vertical:"bottom",direction:"horizontal"},on:{fabClick:function(e){arguments[0]=e=t.$handleEvent(e),t.fabClick.apply(void 0,arguments)}}}),n("uni-popup",{ref:"alertDialog",attrs:{type:"dialog"}},[n("uni-popup-dialog",{attrs:{type:t.alertType,cancelText:"取消",confirmText:"确认",title:"提示",content:t.alertContent},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.dialogConfirm.apply(void 0,arguments)},close:function(e){arguments[0]=e=t.$handleEvent(e),t.dialogClose.apply(void 0,arguments)}}})],1),n("uni-popup",{ref:"message",attrs:{type:"message"}},[n("uni-popup-message",{attrs:{type:t.msgType,message:t.messageText,duration:2e3}})],1)],2)],1)},o=[]},d9670:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-fab[data-v-393ea88f]{position:fixed;display:flex;justify-content:center;align-items:center;z-index:10;border-radius:45px;box-shadow:0 1px 5px 2px rgba(0,0,0,.3)}.uni-cursor-point[data-v-393ea88f]{cursor:pointer}.uni-fab--active[data-v-393ea88f]{opacity:1}.uni-fab--leftBottom[data-v-393ea88f]{left:15px;bottom:30px;left:calc(15px + var(--window-left));bottom:calc(30px + var(--window-bottom))}.uni-fab--leftTop[data-v-393ea88f]{left:15px;top:30px;left:calc(15px + var(--window-left));top:calc(30px + var(--window-top))}.uni-fab--rightBottom[data-v-393ea88f]{right:15px;bottom:30px;right:calc(15px + var(--window-right));bottom:calc(30px + var(--window-bottom))}.uni-fab--rightTop[data-v-393ea88f]{right:15px;top:30px;right:calc(15px + var(--window-right));top:calc(30px + var(--window-top))}.uni-fab__circle[data-v-393ea88f]{position:fixed;display:flex;justify-content:center;align-items:center;width:55px;height:55px;background-color:#3c3e49;border-radius:45px;z-index:11}.uni-fab__circle--leftBottom[data-v-393ea88f]{left:15px;bottom:30px;left:calc(15px + var(--window-left));bottom:calc(30px + var(--window-bottom))}.uni-fab__circle--leftTop[data-v-393ea88f]{left:15px;top:30px;left:calc(15px + var(--window-left));top:calc(30px + var(--window-top))}.uni-fab__circle--rightBottom[data-v-393ea88f]{right:15px;bottom:30px;right:calc(15px + var(--window-right));bottom:calc(30px + var(--window-bottom))}.uni-fab__circle--rightTop[data-v-393ea88f]{right:15px;top:30px;right:calc(15px + var(--window-right));top:calc(30px + var(--window-top))}.uni-fab__circle--left[data-v-393ea88f]{left:0}.uni-fab__circle--right[data-v-393ea88f]{right:0}.uni-fab__circle--top[data-v-393ea88f]{top:0}.uni-fab__circle--bottom[data-v-393ea88f]{bottom:0}.uni-fab__plus[data-v-393ea88f]{font-weight:700}.fab-circle-icon[data-v-393ea88f]{-webkit-transform:rotate(0deg);transform:rotate(0deg);transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;font-weight:200}.uni-fab__plus--active[data-v-393ea88f]{-webkit-transform:rotate(135deg);transform:rotate(135deg)}.uni-fab__content[data-v-393ea88f]{box-sizing:border-box;display:flex;flex-direction:row;border-radius:55px;overflow:hidden;transition-property:width,height;transition-duration:.2s;width:55px;border-color:#ddd;border-width:%?1?%;border-style:solid}.uni-fab__content--other-platform[data-v-393ea88f]{border-width:0;box-shadow:0 1px 5px 2px rgba(0,0,0,.3)}.uni-fab__content--left[data-v-393ea88f]{justify-content:flex-start}.uni-fab__content--right[data-v-393ea88f]{justify-content:flex-end}.uni-fab__content--flexDirection[data-v-393ea88f]{flex-direction:column;justify-content:flex-end}.uni-fab__content--flexDirectionStart[data-v-393ea88f]{flex-direction:column;justify-content:flex-start}.uni-fab__content--flexDirectionEnd[data-v-393ea88f]{flex-direction:column;justify-content:flex-end}.uni-fab__item[data-v-393ea88f]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:55px;height:55px;opacity:0;transition:opacity .2s}.uni-fab__item--active[data-v-393ea88f]{opacity:1}.uni-fab__item-image[data-v-393ea88f]{width:20px;height:20px;margin-bottom:4px}.uni-fab__item-text[data-v-393ea88f]{color:#fff;font-size:12px;line-height:12px;margin-top:2px}.uni-fab__item--first[data-v-393ea88f]{width:55px}',""]),t.exports=e},db90:function(t,e,n){"use strict";function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},e382:function(t,e,n){var i=n("3022");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("5c7de30d",i,!0,{sourceMap:!1,shadowMode:!1})},ea89:function(t,e,n){"use strict";var i=n("b22f"),a=n.n(i);a.a},f3b7:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("b388").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-cursor-point"},[t.popMenu&&(t.leftBottom||t.rightBottom||t.leftTop||t.rightTop)&&t.content.length>0?n("v-uni-view",{staticClass:"uni-fab",class:{"uni-fab--leftBottom":t.leftBottom,"uni-fab--rightBottom":t.rightBottom,"uni-fab--leftTop":t.leftTop,"uni-fab--rightTop":t.rightTop}},[n("v-uni-view",{staticClass:"uni-fab__content",class:{"uni-fab__content--left":"left"===t.horizontal,"uni-fab__content--right":"right"===t.horizontal,"uni-fab__content--flexDirection":"vertical"===t.direction,"uni-fab__content--flexDirectionStart":t.flexDirectionStart,"uni-fab__content--flexDirectionEnd":t.flexDirectionEnd,"uni-fab__content--other-platform":!t.isAndroidNvue},style:{width:t.boxWidth,height:t.boxHeight,backgroundColor:t.styles.backgroundColor},attrs:{elevation:"5"}},[t.flexDirectionStart||t.horizontalLeft?n("v-uni-view",{staticClass:"uni-fab__item uni-fab__item--first"}):t._e(),t._l(t.content,(function(e,i){return n("v-uni-view",{key:i,staticClass:"uni-fab__item",class:{"uni-fab__item--active":t.isShow},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t._onItemClick(i,e)}}},[n("v-uni-image",{staticClass:"uni-fab__item-image",attrs:{src:e.active?e.selectedIconPath:e.iconPath,mode:"aspectFit"}}),n("v-uni-text",{staticClass:"uni-fab__item-text",style:{color:e.active?t.styles.selectedColor:t.styles.color}},[t._v(t._s(e.text))])],1)})),t.flexDirectionEnd||t.horizontalRight?n("v-uni-view",{staticClass:"uni-fab__item uni-fab__item--first"}):t._e()],2)],1):t._e(),n("v-uni-view",{staticClass:"uni-fab__circle uni-fab__plus",class:{"uni-fab__circle--leftBottom":t.leftBottom,"uni-fab__circle--rightBottom":t.rightBottom,"uni-fab__circle--leftTop":t.leftTop,"uni-fab__circle--rightTop":t.rightTop,"uni-fab__content--other-platform":!t.isAndroidNvue},style:{"background-color":t.styles.buttonColor},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._onClick.apply(void 0,arguments)}}},[n("uni-icons",{staticClass:"fab-circle-icon",class:{"uni-fab__plus--active":t.isShow&&t.content.length>0},attrs:{type:"plusempty",color:t.styles.iconColor,size:"32"}})],1)],1)},o=[]}}]);